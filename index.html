<!DOCTYPE html>
<html lang="sk">
<head>
  <meta charset="UTF-8">
  <title>Speech to Text</title>
</head>
<body>
  <h2>Speech to Text</h2>
  <button id="startBtn">ğŸ¤ SpustiÅ¥ poÄÃºvanie</button>
  <button id="testBtn">ğŸ¤ ZKUSIT ROZPOZNÃVÃNÃ</button>
  <button id="stopBtn" disabled>â¹ ZastaviÅ¥</button>
  <p><strong>PoÄutÃ½ text:</strong></p>
  <p id="output">...</p>

<script>
document.getElementById('testBtn').addEventListener('click', async () => {
  try {
    await navigator.mediaDevices.getUserMedia({ audio: true });

    const rec = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    rec.lang = 'en-US';
    rec.continuous = false;
    rec.interimResults = false;

    rec.onstart  = () => console.log('ğŸ¤ START');
    rec.onend    = () => console.log('ğŸ END');
    rec.onresult = e => console.log('ğŸ¯ RESULT:', e.results[0][0].transcript);
    rec.onerror  = e => console.warn('âŒ ERROR:', e.error);

    console.log('Startuji po klikuâ€¦');
    rec.start();
  } catch (err) {
    console.error('ğŸš« Mic error:', err);
  }
});
</script>
</body>
</html>